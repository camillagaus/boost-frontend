<script setup> 
    const { cart } = useCart()

    const cartCount = computed(() => {
        // iom att vi Ã¤r inne i computed behÃ¶ver vi inte gÃ¶ra ref. Varje gÃ¥ng cart Ã¤ndras kommer
        // detta kÃ¶ras om. Computed gÃ¶r att det blir reaktivt. 

        let count = 0
        cart.value.forEach(cartProduct => (count += cartProduct.quantity))
        return count

        // med reduce - returnerar ett vÃ¤rde av nÃ¥got, ex en siffra 
        // fÃ¶rst argumentet Ã¤r totalen, andra argument Ã¤r nuvarande. 0 Ã¤r startvÃ¤rde fÃ¶r total. 
        // const cartCount = cart.value.reduce((total, cartProduct) => total += cartProduct.quantity, 0 )

    })


</script>

<template> 
    <header class="flex justify-between h-32 p-8 text-yellow-50 bg-slate-500">
        <NuxtLink to="/">
           <span class="text-6xl"> ðŸ˜» </span>
        </NuxtLink>
        <NuxtLink to="/cart">
           <span class="flex text-6xl">
               <span>ðŸ›’</span>
                  {{cartCount }}
            </span> 
        </NuxtLink>
        
    </header>
</template>